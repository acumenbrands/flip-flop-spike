!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(){var a=function(){function a(a){this.environment=a.environment,this.cookieString=c(this.environment),this.route=d(this.environment),this.coupon=b(this.cookieString)}var b=function(a){var b=/coupon_code=([^\s;]*)/gi,c=b.exec(a)||[null],d=c.reverse()[0];return d},c=function(a){return a.document.cookie},d=function(a){return a.location.pathname};return a}();b.exports=a}).call(this)},{}],2:[function(a,b,c){(function(){var c=a("../factories/context"),d=function(){function a(a){this.application=a.application;var b=this,d={type:"cart_has_coupon",application:a.application,strategy:function(){return b.application.cart.hasCoupon()}};return new c(d)}return a}();b.exports=d}).call(this)},{"../factories/context":4}],3:[function(a,b,c){(function(){var c=a("../factories/context"),d=function(){function a(a){this.application=a.application;var b=this,d={type:"cart_has_coupon",application:a.application,strategy:function(){return b.application.route.isCart()&&b.application.cart.hasQualifyingProduct()&&b.application.cart.hasQualifyingNet()}};return new c(d)}return a}();b.exports=d}).call(this)},{"../factories/context":4}],4:[function(a,b,c){(function(){var a=function(){function a(a){this.type=a.type,this.application=a.application,this.strategy=a.strategy,this.perform=a.perform||b}a.prototype.isApplicable=function(){return this.strategy};var b=function(){};return a}();b.exports=a}).call(this)},{}],5:[function(a,b,c){(function(){var c=a("./notifier"),d=a("./adapters/application_adapter"),e=a("./contexts/cart_has_coupon"),f=a("./contexts/cart_qualifies"),g=function(){function a(a){var e={environment:a.environment},f=new d(e),g={contexts:b,application:f};return new c(g)}var b=[e,f];return a}();b.exports=g}).call(this)},{"./adapters/application_adapter":1,"./contexts/cart_has_coupon":2,"./contexts/cart_qualifies":3,"./notifier":7}],6:[function(a,b,c){(function(b){(function(){var c=a("./loader"),d="undefined"!=typeof window?window:b;d.FlipFlopSpike=new c({environment:d})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./loader":5}],7:[function(a,b,c){(function(){var a=function(){function a(a){this.application=a.application,this.contexts=a.contexts,this.context=this.getContext()}a.prototype.getContext=function(){for(var a={application:this.application,environment:this.application.environment},b=0,c=this.contexts.length;c>b;b++){var d=this.contexts[b],e=new d(a);if(e.isApplicable())return e}};return a}();b.exports=a}).call(this)},{}]},{},[1,2,3,4,5,6,7]);
//# sourceMappingURL=flip-flop-spike.min.js.map