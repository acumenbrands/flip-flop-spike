{"version":3,"file":"flip-flop-spike.min.js","sources":["flip-flop-spike.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","ApplicationAdapter","_args","this","environment","cookieString","_getCookie","route","_getRoute","coupon","_getCoupon","couponRE","couponResults","exec","couponCode","reverse","env","document","cookie","location","pathname",2,"Context","CartHasCoupon","application","_context","contextOptions","type","strategy","cart","hasCoupon","../factories/context",3,"CartQualifies","isCart","hasQualifyingProduct","hasQualifyingNet",4,"perform","_noop","prototype","isApplicable",5,"Notifier","Loader","appOptions","appAdapter","notifierOptions","contexts","./adapters/application_adapter","./contexts/cart_has_coupon","./contexts/cart_qualifies","./notifier",6,"global","FlipFlopSpike","_environment","window","self","./loader",7,"context","getContext","getContextOptions","len","contextClass"],"mappings":"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"}